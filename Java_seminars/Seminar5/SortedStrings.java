package Seminar5;

// Взять набор строк, например,Мороз и солнце день чудесный Еще ты дремлешь друг прелестный Пора красавица проснись.
// Написать метод, который отсортирует эти строки по длине с помощью TreeMap. Строки с одинаковой длиной не должны “потеряться”.


// Метод main:
// Создается объект класса Scanner для считывания ввода пользователя с консоли.
// Пользователю предлагается ввести строки. Ввод строк продолжается до тех пор, пока пользователь не введет пустую строку.
// Для хранения строк одинаковой длины используется мультимапа TreeMap<Integer, List<String>>, где ключом является длина строки, а значением - список строк этой длины.
// Каждая введенная строка добавляется в мультимапу с помощью метода computeIfAbsent. Если в мультимапе уже существует список строк для данной длины, строка добавляется в этот список, иначе создается новый список и строка добавляется в него.
// После завершения ввода строк переходим к выводу отсортированных строк по их длине.
// Метод computeIfAbsent:
// Метод computeIfAbsent добавляет в мультимапу новый элемент с указанным ключом (длиной строки), если этот ключ отсутствует, или выполняет вычисление и возвращает текущее значение, если ключ уже присутствует в мультимапе.
// В данном случае, если ключ (длина строки) уже существует в мультимапе, метод вернет соответствующий ему список строк, иначе создаст новый пустой список.
// Вывод отсортированных строк:
// После завершения ввода строк, мы проходимся по парам ключ-значение в мультимапе с помощью цикла for-each.
// Для каждой пары ключ-значение получаем длину строки и список строк этой длины.
// Затем итерируемся по списку строк и выводим каждую строку вместе с ее длиной.
// Таким образом, этот код считывает строки от пользователя, учитывает строки одинаковой длины, сортирует их по длине с помощью TreeMap и выводит отсортированный список строк вместе с их длиной.


import java.util.*;

public class SortedStrings {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.println("Введите строки (для завершения ввода введите пустую строку):");

        // Создаем мультимапу для хранения строк по их длине
        TreeMap<Integer, List<String>> sortedStrings = new TreeMap<>();

        String input;
        while (!(input = scanner.nextLine()).isEmpty()) {
            int length = input.length(); // Получаем длину введенной строки
            // Добавляем строку в мультимапу, группируя по длине
            sortedStrings.computeIfAbsent(length, k -> new ArrayList<>()).add(input);
        }
        scanner.close();

        System.out.println("Отсортированные строки по длине:");
        // Итерируемся по парам ключ-значение в мультимапе
        for (Map.Entry<Integer, List<String>> entry : sortedStrings.entrySet()) {
            int length = entry.getKey(); // Получаем длину строки
            List<String> strings = entry.getValue(); // Получаем список строк этой длины
            // Выводим каждую строку вместе с ее длиной
            for (String str : strings) {
                System.out.println(length + ": " + str);
            }
        }
    }
}
